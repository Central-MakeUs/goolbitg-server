openapi: 3.0.3
info:
  title: ğŸ£ êµ´ë¹„ì‡ê¸° API ì„œë²„
  description: >
    êµ´ë¹„ì‡ê¸° í”„ë¡œì íŠ¸ì˜ API ì„œë²„ì…ë‹ˆë‹¤.

    ## â›”ï¸ ì—ëŸ¬ì½”ë“œ

    ì—ëŸ¬ì½”ë“œëŠ” 4ìë¦¬ ìˆ«ìë¡œ êµ¬ì„±ë˜ë©°, ì• 2ìë¦¬ëŠ” ê·¸ë£¹ì„, ë’· 2ìë¦¬ëŠ” ê·¸ë£¹ ë‚´ êµ¬ë¶„ì
    ì—­í• ì„ í•©ë‹ˆë‹¤. <br>
    ì˜ˆë¥¼ ë“¤ì–´, `1002`ëŠ” 10ë²ˆ ê·¸ë£¹ 2ë²ˆì§¸ ì—ëŸ¬ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.<br><br>

    ìì„¸í•œ ì—ëŸ¬ì½”ë“œ ë° ë©”ì‹œì§€ ì •ë³´ëŠ” **ì•„ë˜ ë§í¬ğŸ‘‡**ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. <br>
    [ì—ëŸ¬ì½”ë“œ ëª©ë¡](https://github.com/Central-MakeUs/goolbitg-server/docs/errors.md)
  termsOfService: http://localhost:8080/terms-of-service
  version: 1.0.0
servers:
  - url: http://localhost:8080/api/v1
    description: ë¡œì»¬í˜¸ìŠ¤íŠ¸ ì„œë²„
paths:
  /auth/register:
    post:
      summary: íšŒì›ê°€ì…
      description: >
        ì™¸ë¶€ ì¸ì¦ì„œë²„ë¡œë¶€í„° ì–»ì€ id í† í°ì„ ì´ìš©í•´ ì‚¬ìš©ìë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.

        ### ì¸ì¦ íƒ€ì…

        - `KAKAO`: ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸

        - `APPLE`: ì• í”Œ ë¡œê·¸ì¸

        ### íšŒì›ê°€ì… ì ˆì°¨

        1. íšŒì›ê°€ì… ìš”ì²­ì´ ì„±ê³µí–ˆë‹¤ë©´, ê°™ì€ ì¸ì¦ ì •ë³´ë¡œ ë¡œê·¸ì¸í•©ë‹ˆë‹¤.

        2. íšŒì› ì •ë³´ ì…ë ¥ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ë¡œê·¸ì¸ ìš”ì²­ì€ 
          `registerComplete: false` ì™€ í•¨ê»˜ ë‹¤ìŒ íšŒì› ì •ë³´ 
          ì…ë ¥ì„ ìœ„í•œ urlì„ ë°˜í™˜í•©ë‹ˆë‹¤.

        3. ë¡œê·¸ì¸ ì‹œ ë°˜í™˜ëœ ì—‘ì„¸ìŠ¤ í† í°ê³¼ í•¨ê»˜ íšŒì›ì •ë³´ ì…ë ¥ ìš”ì²­ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

        4. í•„ìˆ˜ ì •ë³´ë“¤ì˜ ì…ë ¥ì´ ì™„ë£Œë˜ë©´ ë‹¤ë¥¸ API ìš”ì²­ë“¤ì´ ì •ìƒì ìœ¼ë¡œ ë°˜í™˜ë©ë‹ˆë‹¤.
      tags:
        - Auth
      requestBody:
        $ref: '#/components/requestBodies/RegisterReq'
      responses:
        '201':
          $ref: '#/components/responses/RegisterSuccess'
        '409':
          $ref: '#/components/responses/RegisterFail'
  /auth/login:
    post:
      summary: ë¡œê·¸ì¸
      description: >
        ì™¸ë¶€ ì¸ì¦ì„œë²„ë¡œë¶€í„° ì–»ì€ id í† í°ì„ ì´ìš©í•´ ë¡œê·¸ì¸í•©ë‹ˆë‹¤.

        ### ì¸ì¦ íƒ€ì…

        - `KAKAO`: ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸

        - `APPLE`: ì• í”Œ ë¡œê·¸ì¸
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AuthRequestDto'
      responses:
        '200':
          $ref: '#/components/responses/LoginSuccess'
        '202':
          $ref: '#/components/responses/LoginFail'
  /auth/revalidate:
    post:
      summary: ì—‘ì„¸ìŠ¤ í† í° ì¬ë°œê¸‰
      description: >
        ì—‘ì„¸ìŠ¤ í† í°ì„ ì¬ë°œê¸‰í•©ë‹ˆë‹¤.

        ### í† í° ê¸°í•œ
        
        - access token: 1ì¼

        - refresh token: 30ì¼
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RevalidationRequestDto'
      responses:
        '200':
          description: >
            ì—‘ì„¸ìŠ¤ í† í° ì¬ë°œê¸‰ ì„±ê³µ<br><br>
            NOTE: ë¦¬í”„ë ˆì‹œ í† í°ì˜ ê¸°í•œì´ 10ì¼ ì´ë‚´ë¡œ ë‚¨ì•˜ë‹¤ë©´ ë¦¬í”„ë ˆì‹œ í† í° ë˜í•œ
            ì¬ë°œê¸‰ë©ë‹ˆë‹¤.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponseDto'
  /users/me:
    get:
      summary: í˜„ì¬ ë¡œê·¸ì¸í•œ ìœ ì € ì •ë³´ ë°˜í™˜
      tags:
        - User
      responses:
        '200':
          description: í˜„ì¬ ë¡œê·¸ì¸í•œ ìœ ì € ì •ë³´
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UserDto'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
  /users/nickname/check:
    post:
      summary: ë‹‰ë„¤ì„ ì¤‘ë³µ ì²´í¬
      tags:
        - User
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NicknameCheckRequestDto'
      responses:
        '200':
          description: ì¤‘ë³µ ì—¬ë¶€ ë°˜í™˜
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NicknameCheckResponseDto'
  /users/me/info:
    post:
      summary: ì‚¬ìš©ì í•„ìˆ˜ ì •ë³´ ë“±ë¡
      tags:
        - User
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserInfoDto'
      responses:
        '200':
          description: ë“±ë¡ ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LinkDto'
                example:
                  $ref: '#/components/examples/RegisterChecklistUrl/value'
        '202':
          $ref: '#/components/responses/RegisterInfoFail'
        '400':
          $ref: '#/components/responses/BadRequest'
  /users/me/checklist:
    post:
      summary: ì†Œë¹„ì¤‘ë… ì²´í¬ë¦¬ìŠ¤íŠ¸ ì •ë³´ ë“±ë¡
      tags:
        - User
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserChekclistDto'
      responses:
        '200':
          description: ë“±ë¡ ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LinkDto'
                example:
                  $ref: '#/components/examples/RegisterHabitUrl/value'
        '202':
          $ref: '#/components/responses/RegisterInfoFail'
        '400':
          $ref: '#/components/responses/BadRequest'
  /users/me/habit:
    post:
      summary: ì‚¬ìš©ì í•„ìˆ˜ ì •ë³´ ë“±ë¡
      tags:
        - User
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserHabitDto'
      responses:
        '200':
          description: ë“±ë¡ ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LinkDto'
                example:
                  $ref: '#/components/examples/RegisterPatternUrl/value'
        '202':
          $ref: '#/components/responses/RegisterInfoFail'
        '400':
          $ref: '#/components/responses/BadRequest'
  /users/me/pattern:
    post:
      summary: ì‚¬ìš©ì í•„ìˆ˜ ì •ë³´ ë“±ë¡
      tags:
        - User
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserHabitDto'
      responses:
        '200':
          description: ë“±ë¡ ì„±ê³µ
        '202':
          $ref: '#/components/responses/RegisterInfoFail'
        '400':
          $ref: '#/components/responses/BadRequest'
  /challenges:
    get:
      summary: ì±Œë¦°ì§€ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
      tags:
        - Challenge
      parameters:
        - name: spendingTypeId
          in: query
          schema:
            type: string
            nullable: true
      responses:
        '200':
          description: ì±Œë¦°ì§€ ëª©ë¡ ë°˜í™˜
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedChallengeDto'
  /challengeRecords:
    get:
      summary: ì±Œë¦°ì§€ ê¸°ë¡ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
      tags:
        - ChallengeRecord
      parameters:
        - name: date
          in: query
          required: true
          schema:
            type: string
            format: date
            nullable: true
        - name: status
          in: query
          schema:
            $ref: '#/components/schemas/ChallengeRecordStatus'
      responses:
        '200':
          description: ì±Œë¦°ì§€ ê¸°ë¡ ë¦¬ìŠ¤íŠ¸
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedChallengeRecordDto'
    post:
      summary: ì±Œë¦°ì§€ ê¸°ë¡ ìƒì„±
      description: >
        **NOTE**: ë§Œì•½ ì˜¤ëŠ˜ í˜¹ì€ ì „ë‚  ì™„ë£Œëœ ê°™ì€ ì±Œë¦°ì§€ ê¸°ë¡ì´ ìˆë‹¤ë©´,
        `continueCount`ê°€ ì´ì–´ì§€ëŠ” ìƒˆë¡œìš´ ì±Œë¦°ì§€ ê¸°ë¡ì´ ìƒì„±ë©ë‹ˆë‹¤.
      tags:
        - ChallengeRecord
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChallengeRecordCreationDto'
      responses:
        '201':
          description: ì±Œë¦°ì§€ ê¸°ë¡ ìƒì„± ì™„ë£Œ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChallengeRecordDto'
  /challengeRecords/{challengeId}:
    get:
      summary: ì±Œë¦°ì§€ ê¸°ë¡ í™•ì¸
      tags:
        - ChallengeRecord
      parameters:
        - name: challengeId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: ì±Œë¦°ì§€ ê¸°ë¡ ë°˜í™˜
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChallengeRecordDto'
    delete:
      summary: ì±Œë¦°ì§€ ê¸°ë¡ ì‚­ì œ
      tags:
        - ChallengeRecord
      parameters:
        - name: challengeId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: ì±Œë¦°ì§€ ì‚­ì œ ì„±ê³µ
  /challengeRecords/{challengeId}/check:
    post:
      summary: ì±Œë¦°ì§€ ì²´í¬
      tags:
        - ChallengeRecord
      parameters:
        - name: challengeId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: ì±Œë¦°ì§€ ì²´í¬ ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChallengeRecordDto'
  /challengeGroups:
    get:
      summary: ì±Œë¦°ì§€ ê·¸ë£¹ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
      tags:
        - ChallengeGroup
      parameters:
        - name: search
          in: query
          schema:
            type: string
            minimum: 1
            maximum: 100
      responses:
        '200':
          description: ì±Œë¦°ì§€ ê·¸ë£¹ ëª©ë¡
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedChallengeGroupDto'
    post:
      summary: ì±Œë¦°ì§€ ê·¸ë£¹ ìƒì„±
      tags:
        - ChallengeGroup
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChallengeGroupDto'
      responses:
        '201':
          description: ì±Œë¦°ì§€ ê·¸ë£¹ ìƒì„± ì™„ë£Œ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChallengeGroupDto'
  /challengeGroups/{groupId}:
    get:
      summary: íŠ¹ì • ì±Œë¦°ì§€ ê·¸ë£¹ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
      tags:
        - ChallengeGroup
      parameters:
        - name: groupId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: ì±Œë¦°ì§€ ê·¸ë£¹ ì •ë³´
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChallengeGroupDto'
    delete:
      summary: íŠ¹ì • ì±Œë¦°ì§€ ê·¸ë£¹ ì‚­ì œ
      tags:
        - ChallengeGroup
      parameters:
        - name: groupId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: ì±Œë¦°ì§€ ê·¸ë£¹ ì‚­ì œ ì„±ê³µ
  /challengeGroupRecords:
    get:
      summary: ë‚´ ì±Œë¦°ì§€ ê·¸ë£¹ ê¸°ë¡ ê°€ì ¸ì˜¤ê¸°
      tags:
        - ChallengeGroupRecord
      parameters:
        - name: owning
          description: ë‚´ê°€ ë§Œë“  ì±Œë¦°ì§€ì¸ê°€?
          in: query
          schema:
            type: boolean
      responses:
        '200':
          description: ì±Œë¦°ì§€ ê·¸ë£¹ ê¸°ë¡ ë°˜í™˜
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedChallengeGroupRecordDto'
    post:
      summary: ë‚´ ì±Œë¦°ì§€ ê¸°ë¡ ìƒì„±
      description: >
        ì±Œë¦°ì§€ ê¸°ë¡ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ ì–´ì œ í˜¹ì€ ì˜¤ëŠ˜ ì™„ë£Œëœ ì±Œë¦°ì§€ ê¸°ë¡ì´ ìˆë‹¤ë©´
        ì—°ì† ìˆ˜í–‰ íšŒìˆ˜ê°€ ìœ ì§€ë¨.
      tags:
        - ChallengeGroupRecord
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChallengeGroupRecordCreationDto'
      responses:
        '201':
          description: ì±Œë¦°ì§€ ê·¸ë£¹ ê¸°ë¡ ìƒì„± ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChallengeGroupRecordDto'
  /challengeGroupRecords/{groupId}:
    get:
      summary: ì±Œë¦°ì§€ ê·¸ë£¹ ê¸°ë¡ í™•ì¸
      tags:
        - ChallengeGroupRecord
      parameters:
        - name: groupId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: ì±Œë¦°ì§€ ê·¸ë£¹ ê¸°ë¡ ë°˜í™˜
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChallengeGroupRecordDto'
    delete:
      summary: ì±Œë¦°ì§€ ê·¸ë£¹ ê¸°ë¡ ì‚­ì œ
      tags:
        - ChallengeGroupRecord
      parameters:
        - name: groupId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: ì±Œë¦°ì§€ ê·¸ë£¹ ê¸°ë¡ ì‚­ì œ ì„±ê³µ
  /challengeGroupRecords/{groupId}/check:
    post:
      summary: ì±Œë¦°ì§€ ê·¸ë£¹ ê¸°ë¡ ì²´í¬
      tags:
        - ChallengeGroupRecord
      parameters:
        - name: groupId
          in: path
          required: true
          schema:
            type: integer
            format: int64
      responses:
        '200':
          description: ì±Œë¦°ì§€ ê·¸ë£¹ ê¸°ë¡ ë°˜í™˜
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ChallengeGroupRecordDto'
  /buyOrNots:
    get:
      summary: ì‚´ê¹Œë§ê¹Œ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
      tags:
        - BuyOrNot
      responses:
        '200':
          description: ì‚´ê¹Œë§ê¹Œ ìµœì‹ ìˆœ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedBuyOrNotDto'
    post:
      summary: ì‚´ê¹Œë§ê¹Œ ë“±ë¡
      tags:
        - BuyOrNot
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BuyOrNotDto'
      responses:
        '201':
          description: ì‚´ê¹Œë§ê¹Œ ë“±ë¡ ì™„ë£Œ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BuyOrNotDto'
    put:
      summary: ì‚´ê¹Œë§ê¹Œ ìˆ˜ì •
      tags:
        - BuyOrNot
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BuyOrNotDto'
      responses:
        '200':
          description: ì‚´ê¹Œë§ê¹Œ ìˆ˜ì • ì™„ë£Œ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BuyOrNotDto'
  /buyOrNots/{postId}:
    get:
      summary: íŠ¹ì • ì‚´ê¹Œë§ê¹Œ ì •ë³´ í™•ì¸
      tags:
        - BuyOrNot
      parameters:
        - name: postId
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: íŠ¹ì • ì‚´ê¹Œë§ê¹Œ ì •ë³´ ë°˜í™˜
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BuyOrNotDto'
    delete:
      summary: ì‚´ê¹Œë§ê¹Œ ì œê±°
      tags:
        - BuyOrNot
      parameters:
        - name: postId 
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: ì‚´ê¹Œë§ê¹Œ ì œê±° ì™„ë£Œ
  /buyOrNots/my:
    get:
      summary: ë‚´ê°€ ì‘ì„±í•œ ì‚´ê¹Œë§ê¹Œ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
      tags:
        - BuyOrNot
      responses:
        '200':
          description: ë‚´ê°€ ì‘ì„±í•œ ì‚´ê¹Œë§ê¹Œ ëª©ë¡
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedBuyOrNotDto'
  /images:
    post:
      summary: ì´ë¯¸ì§€ ì—…ë¡œë“œ
      tags:
        - Image
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                image:
                  type: string
                  format: binary
              required:
                - image
            encoding:
              image:
                contentType: image/*
      responses:
        '201':
          description: ì—…ë¡œë“œ ì„±ê³µ
          content:
            application/json:
              schema:
                type: object
                properties:
                  url:
                    type: string
                    format: uri
                    description: ì—…ë¡œë“œí•œ ì´ë¯¸ì§€ url
components:
  schemas:
    ChallengeGroupRecordCreationDto:
      type: object
      properties:
        groupId:
          type: integer
          format: int64
    PaginatedChallengeGroupRecordDto:
      allOf:
        - $ref: '#/components/schemas/PaginatedResponseDto'
        - type: object
          properties:
            items:
              type: array
              items:
                $ref: '#/components/schemas/ChallengeGroupDto'
    PaginatedChallengeGroupDto:
      allOf:
        - $ref: '#/components/schemas/PaginatedResponseDto'
        - type: object
          properties:
            items:
              type: array
              items:
                $ref: '#/components/schemas/ChallengeGroupDto'
    ChallengeRecordCreationDto:
      type: object
      properties:
        challengeId:
          type: integer
          format: int64
    PaginatedChallengeRecordDto:
      allOf:
        - $ref: '#/components/schemas/PaginatedResponseDto'
        - type: object
          properties:
            items:
              type: array
              items:
                $ref: '#/components/schemas/ChallengeRecordDto'
    PaginatedBuyOrNotDto:
      allOf:
        - $ref: '#/components/schemas/PaginatedResponseDto'
        - type: object
          properties:
            items:
              type: array
              items:
                $ref: '#/components/schemas/BuyOrNotDto'
    PaginatedChallengeDto:
      allOf:
        - $ref: '#/components/schemas/PaginatedResponseDto'
        - type: object
          properties:
            items:
              type: array
              items:
                $ref: '#/components/schemas/ChallengeDto'
    UserDto:
      type: object
      properties:
        id:
          type: string
          description: ì‚¬ìš©ì ê³ ìœ  IDê°’, ëœë¤ ìƒì„±
        nickname:
          type: string
          minimum: 2
          maximum: 6
          description: í•œê¸€, ì˜ë¬¸ ëŒ€ì†Œë¬¸ìë§Œ ì…ë ¥ ê°€ëŠ¥
        birthday:
          type: string
          format: date
          description: ìƒì¼
        gender:
          type: string
          enum:
            - male
            - female
          description: ì„±ë³„
        check1:
          type: boolean
          description: ì²´í¬ë¦¬ìŠ¤íŠ¸ 1 ì²´í¬ ì—¬ë¶€
        check2:
          type: boolean
          description: ì²´í¬ë¦¬ìŠ¤íŠ¸ 2 ì²´í¬ ì—¬ë¶€
        check3:
          type: boolean
          description: ì²´í¬ë¦¬ìŠ¤íŠ¸ 3 ì²´í¬ ì—¬ë¶€
        check4:
          type: boolean
          description: ì²´í¬ë¦¬ìŠ¤íŠ¸ 4 ì²´í¬ ì—¬ë¶€
        check5:
          type: boolean
          description: ì²´í¬ë¦¬ìŠ¤íŠ¸ 5 ì²´í¬ ì—¬ë¶€
        check6:
          type: boolean
          description: ì²´í¬ë¦¬ìŠ¤íŠ¸ 6 ì²´í¬ ì—¬ë¶€
        avgIncomePerMonth:
          type: integer
          description: ì›”ê°„ í‰ê·  ìˆ˜ì…
        avgSpendingPerMonth:
          type: integer
          description: ì›”ê°„ í‰ê·  ì§€ì¶œ
        primeUseDay:
          type: string
          format: day
          description: ì£¼ ì§€ì¶œ ìš”ì¼
        primeUseTime:
          type: string
          format: time
          description: ì£¼ ì§€ì¶œ ì‹œê°„, ì´ˆë¡œ ê³„ì‚°ë¨
        spendingType:
          $ref: '#/components/schemas/SpendingTypeDto'
        spendingHabitScore:
          type: integer
          minimum: 0
          maximum: 100
          description: ì†Œë¹„ìŠµê´€ ì ìˆ˜ (0 ~ 100ì )
        challengeCount:
          type: integer
          description: ì´ ì±Œë¦°ì§€ ì°¸ì—¬ ê°œìˆ˜
        postCount:
          type: integer
          description: ì´ ì‘ì„±ê¸€ ìˆ˜
        achivementGuage:
          type: number
          format: float
          description: ë‹¬ì„± ê²Œì´ì§€
      required:
        - id
        - nickname
        - birthday
        - gender
        - check1
        - check2
        - check3
        - check4
        - check5
        - check6
        - spendingType
        - spendingHabitScore
      example:
        id: id2003952
        nickname: êµ´ë¹„ì™•
        birthday: 1999-03-01
        gender: male
        check1: false
        check2: true
        check3: true
        check4: false
        check5: true
        check6: true
        avgIncomePerMonth: 3600000
        avgSpendingPerMonth: 2000000
        primeUseDay: ê¸ˆìš”ì¼
        primeUseTime: 20:00:00
        spendingHabitScore: 62
        spendingType:
          id: 1
          title: ìë¦°ê³ ë¹„ êµ´ë¹„
          imageUrl: http://localhost:8080/image/st1
        challengeCount: 14
        postCount: 4
        achivementGuage: 37.2
    SpendingTypeDto:
      type: object
      properties:
        id:
          type: string
          description: ì†Œë¹„ìœ í˜• ID
        title:
          type: string
          description: ì†Œë¹„ìœ í˜• ì´ë¦„
        imageUrl:
          type: string
          format: uri
          description: ì†Œë¹„ìœ í˜• ëŒ€í‘œ ì´ë¯¸ì§€
      example:
        id: st1
        title: ìë¦°ê³ ë¹„ êµ´ë¹„
        imageUrl: http://localhost:8080/image/st1
    ChallengeGroupRecordDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: ì±Œë¦°ì§€ ê¸°ë¡ ID
        challengeGroupId:
          type: integer
          format: int64
          description: ì±Œë¦°ì§€ ê·¸ë£¹ ID
        userId:
          type: string
          description: ìœ ì € ID
        startDate:
          type: string
          format: date
          description: ì‹œì‘ì¼
        continueCount:
          type: integer
          description: ì—°ì† ë‹¬ì„± ì¼ìˆ˜
        day1Status:
          $ref: '#/components/schemas/ChallengeRecordStatus'
        day2Status:
          $ref: '#/components/schemas/ChallengeRecordStatus'
        day3Status:
          $ref: '#/components/schemas/ChallengeRecordStatus'
    ChallengeGroupDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: ì±Œë¦°ì§€ ê·¸ë£¹ ID
        challengeId:
          type: integer
          format: int64
          description: ì±Œë¦°ì§€ ID
        ownerId:
          type: string
          description: ì±Œë¦°ì§€ ìƒì„±ì
        hashtags:
          type: array
          items:
            type: string
          description: í•´ì‹œíƒœê·¸ ëª©ë¡
        maxSize:
          type: integer
          minimum: 2
          maximum: 10
          description: ìµœëŒ€ ì¸ì›
        peopleCount:
          type: integer
          description: ì°¸ì—¬ ì¸ì›ìˆ˜
        imageUrl:
          type: string
          format: uri
          description: ê·¸ë£¹ ëŒ€í‘œ ì´ë¯¸ì§€ URL
        isHidden:
          type: boolean
          description: ë¹„ë°€ë°© ì—¬ë¶€
          default: false
        password:
          type: string
          minimum: 4
          maximum: 4
          description: ë¹„ë°€ë²ˆí˜¸
    ChallengeRecordDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: ì±Œë¦°ì§€ ê¸°ë¡ ID
        challengeId:
          type: integer
          format: int64
          description: ì±Œë¦°ì§€ ID
        userId:
          type: string
          description: ìœ ì € ID
        startDate:
          type: string
          format: date
          description: ì‹œì‘ì¼
        continueCount:
          type: integer
          description: ì—°ì† ë‹¬ì„± ì¼ìˆ˜
        day1Status:
          $ref: '#/components/schemas/ChallengeRecordStatus'
        day2Status:
          $ref: '#/components/schemas/ChallengeRecordStatus'
        day3Status:
          $ref: '#/components/schemas/ChallengeRecordStatus'
    ChallengeRecordStatus:
      type: string
      enum:
        - wait
        - success
        - fail
      default: wait
    ChallengeDto:
      type: object
      properties:
        id:
          type: integer
          format: int64
          description: ì±Œë¦°ì§€ ID
        title:
          type: string
          minimum: 1
          maximum: 100 # TODO: Set maximum title length
          description: ì±Œë¦°ì§€ ì´ë¦„
        imageUrl:
          type: string
          format: uri
          description: ì±Œë¦°ì§€ ëŒ€í‘œ ì´ë¯¸ì§€ URL
        participantCount:
          type: integer
          description: ì±Œë¦°ì§€ ì°¸ì—¬ì¸ì›
        avgAchiveRatio:
          type: number
          format: float
          description: ì±Œë¦°ì§€ í‰ê·  ë‹¬ì„±ë¥ 
        maxAchiveDays:
          type: integer
          description: ê°€ì¥ ì˜¤ë˜ ì§„í–‰ëœ ì±Œë¦°ì§€ ì¼ìˆ˜
      required:
        - id
        - title
        - imageUrl
        - isPrivate
        - participantCount
        - avgAchiveRatio
        - maxAchiveDays
    ChallengeProgressDto:
      type: object
      properties:
        challengeId:
          type: string
          description: ì§„í–‰ì¤‘ì¸ ì±Œë¦°ì§€ ID
        participantId:
          type: string
          description: ì±Œë¦°ì§€ ì°¸ì—¬ì ID
        startDateTime:
          type: string
          format: date-time
          description: ì±Œë¦°ì§€ ì‹œì‘ì¼
        endDateTime:
          type: string
          format: date-time
          description: ì±Œë¦°ì§€ ì¢…ë£Œì¼. ì•„ì§ ì¢…ë£Œë˜ì§€ ì•Šì€ ê²½ìš° null
        inProgress:
          type: boolean
          description: ì±Œë¦°ì§€ê°€ ì§„í–‰ì¤‘ì¸ì§€ ì—¬ë¶€
        achiveDays:
          type: integer
          minimum: 0
          maximum: 3
          description: ì±Œë¦°ì§€ ì§„í–‰ ì¼ìˆ˜
      required:
        - challengeId
        - participantId
        - startDateTime
        - inProgress
        - achiveDays
      example:
        challengeId: ch10001
        participantId: id2003952
        startDateTime: 2024-01-07
        inProgress: true
        achiveDays: 2
    NoticeDto:
      type: object
      properties:
        id:
          type: string
          description: ì•Œë¦¼ ID
        receiverId:
          type: string
          description: ìˆ˜ì‹ ì ID
        message:
          type: string
          minimum: 10
          maximum: 100 # TODO: Determine min, max
          description: ë©”ì„¸ì§€ ë‚´ìš©
        publishDateTime:
          type: string
          format: date-time
          description: ì•Œë¦¼ ë°œì†¡ ë‚ ì§œ
        type:
          type: string
          enum:
            - challenge
            - vote
            - chat
          description: ë©”ì‹œì§€ íƒ€ì…
      required:
        - id
        - receiverId
        - message
        - publishDateTime
        - type
      example:
        id: nt10001
        receiverId: id2003952
        message: ì˜¤ëŠ˜ ì•„ì§ ì±Œë¦°ì§€ë¥¼ ë‹¬ì„±í•˜ì§€ ëª»í–ˆì–´ìš”.
        publishDateTime: 2024-01-07T14:26:32
        type: challenge
    BuyOrNotDto:
      type: object
      properties:
        id:
          type: string
          description: ì‚´ê¹Œë§ê¹Œ ë“±ë¡ ID
        writerId:
          type: string
          description: ì‘ì„±ì ID
        productName:
          type: string
          description: ìƒí’ˆ ì´ë¦„
        productPrice:
          type: integer
          minimum: 1
          maximum: 10000000
          description: ìƒí’ˆ ê¸ˆì•¡
        productImageUrl:
          type: string
          format: uri
          description: ìƒí’ˆ ì‚¬ì§„ URL
        goodReason:
          type: string
          minimum: 2
          maximum: 25 # TODO: Determine min, max
          description: ì‚¬ì•¼í•˜ëŠ” ì´ìœ 
        badReason:
          type: string
          minimum: 2
          maximum: 25 # TODO: Determine min, max
          description: ì‚¬ì§€ ë§ì•„ì•¼ í•˜ëŠ” ì´ìœ 
      required:
        - id
        - writerId
        - productName
        - productPrice
        - productImageUrl
        - goodReason
        - badReason
      example:
        id: bn10001
        writerId: id2003952
        productName: Tecket í›„ë“œí‹°
        productPrice: 97000
        productImageUrl: http://localhost:8080/image/bn1
        goodReason: í›„ë“œí‹° ì•ˆì‚°ì§€ ë²Œì¨ 2ë…„ ë‹¤ë¨
        badReason: ì§‘ì— í›„ë“œí‹°ë§Œ 10ì¥ ìˆê¸´í•¨
    HabitPatternAnalysisDto:
      type: object
      properties:
        typeRatio:
          type: array
          description: íƒ€ì…ë³„ ë¹„ìœ¨ ëª¨ìŒ
          items:
            type: object
            properties:
              id:
                type: integer
                description: íƒ€ì… ID
              value:
                type: number
                format: float
                description: íƒ€ì… ë¹„ìœ¨
        avgChallengeCounts:
          type: array
          description: íƒ€ì…ë³„ í‰êµ° ì±Œë¦°ì§€ ê°œìˆ˜
          items:
            type: object
            properties:
              id:
                type: integer
                description: íƒ€ì… ID
              value:
                type: integer
                description: ì°¸ì—¬ ê°œìˆ˜
      example:
        typeRatio:
          - id: 1
            value: 5.0
          - id: 2
            value: 12.0
          - id: 3
            value: 18.0
          - id: 4
            value: 25.0
          - id: 5
            value: 40.0
        avgChallengeCounts:
          - id: 1
            value: 3
          - id: 2
            value: 5
          - id: 3
            value: 6
          - id: 4
            value: 4
          - id: 5
            value: 2
    ErrorResponseDto:
      type: object
      properties:
        code:
          type: integer
          minimum: 1000
          maximum: 9000
          description: ì˜¤ë¥˜ ì½”ë“œ
        message:
          type: string
          minimum: 1
          maximum: 100
          description: ì˜¤ë¥˜ ë©”ì„¸ì§€
      required:
        - code
        - message
      example:
        code: 1000
        message: ì•Œ ìˆ˜ ì—†ëŠ” ì„œë²„ ì˜¤ë¥˜
    PaginatedResponseDto:
      type: object
      properties:
        totalSize:
          type: integer
          description: ì´ ì•„ì´í…œ ìˆ˜
        totalPages:
          type: integer
          description: ì´ í˜ì´ì§€ ìˆ˜
        size:
          type: integer
          default: 10
          description: ì•„ì´í…œ ê°œìˆ˜
        page:
          type: integer
          minimum: 1
          default: 1
          description: í˜ì´ì§€ ë²ˆí˜¸ (1ë¶€í„° ì‹œì‘)
        items: {}
        nextPageUrl:
          type: string
          format: uri
          description: ë‹¤ìŒ í˜ì´ì§€ URL
        prevPageUrl:
          type: string
          format: uri
          description: ì´ì „ í˜ì´ì§€ URL
      required:
        - totalSize
        - totalPages
        - size
        - page
        - items
    AuthRequestDto:
      type: object
      properties:
        type:
          type: string
          enum:
            - KAKAO
            - APPLE
          description: ë¡œê·¸ì¸ íƒ€ì… (ì¹´ì¹´ì˜¤ ë˜ëŠ” ì• í”Œ)
        idToken:
          type: string
          description: id_token
      required:
        - type
        - idToken
    AuthResponseDto:
      type: object
      properties:
        accessToken:
          type: string
          nullable: false
          description: ì—‘ì„¸ìŠ¤ í† í°
        refreshToken:
          type: string
          nullable: true
          description: ë¦¬í”„ë ˆì‹œ í† í°
      required:
        - accessToken
    RevalidationRequestDto:
      type: object
      properties:
        refreshToken:
          type: string
          description: ë¦¬í”„ë ˆì‹œ í† í°
      required:
        - refreshToken
    LoginResponseDto:
      allOf:
        - $ref: '#/components/schemas/AuthResponseDto'
        - type: object
          properties:
            registerComplete:
              type: boolean
              description: ì •ë³´ë“±ë¡ ì™„ë£Œ ì—¬ë¶€
            nextLinkDto:
              nullable: true
              $ref: '#/components/schemas/LinkDto'
          required:
            - registerComplete
    UserInfoDto:
      type: object
      properties:
        nickname:
          type: string
          minimum: 2
          maximum: 6
          example: êµ´ë¹„ì™•
        birthday:
          type: string
          format: date
          example: 1999-03-01
        gender:
          type: string
          enum:
            - male
            - female
    UserChekclistDto:
      type: object
      properties:
        check1:
          type: boolean
        check2:
          type: boolean
        check3:
          type: boolean
        check4:
          type: boolean
        check5:
          type: boolean
        check6:
          type: boolean
    UserHabitDto:
      type: object
      properties:
        avgIncomePerMonth:
          type: integer
        avgSpendingPerMonth:
          type: integer
    UserPatternDto:
      type: object
      properties:
        primeUseDay:
          type: string
          format: day
        primeUseTime:
          type: string
          format: time
    NicknameCheckRequestDto:
      type: object
      properties:
        nickname:
          type: string
          example: êµ´ë¹„í‚¹
    NicknameCheckResponseDto:
      type: object
      properties:
        duplicated:
          type: boolean
    LinkDto:
      type: object
      properties:
        required:
          type: boolean
          description: í•„ìˆ˜ ì—¬ë¶€
        method:
          type: string
          enum:
            - get
            - post
            - put
            - delete
          description: ìš”ì²­ ë©”ì†Œë“œ
        url:
          type: string
          format: uri
          description: ìš”ì²­ ì£¼ì†Œ
      example:
        required: true
        method: post
        url: 'http://localhost:8080/api/v1/users/me/info'
  examples:
    PrivateChallenge:
      value:
        id: ch10001
        title: íƒì‹œíƒ€ì§€ ì•Šê¸°
        imageUrl: http://localhost:8080/image/ch1
        isPrivate: false
        participantCount: 124
        avgAchiveRatio: 58.6
        maxAchiveDays: 24
    GroupChallenge:
      value:
        id: ch10002
        title: ë°°ë‹¬ìŒì‹ ë¨¹ì§€ ì•Šê¸°
        imageUrl: http://localhost:8080/image/ch2
        isPrivate: true
        participantCount: 1539
        avgAchiveRatio: 39.6
        maxAchiveDays: 52
    RegisterInfoUrl:
      value:
        required: true
        method: post
        url: http://localhost:8080/api/v1/users/me/info
    RegisterChecklistUrl:
      value:
        required: true
        method: post
        url: http://localhost:8080/api/v1/users/me/checklist
    RegisterHabitUrl:
      value:
        required: false
        method: post
        url: http://localhost:8080/api/v1/users/me/habit
    RegisterPatternUrl:
      value:
        required: false
        method: post
        url: http://localhost:8080/api/v1/users/me/pattern
  requestBodies:
    RegisterReq:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/AuthRequestDto'
  responses:
    NotFound:
      description: ì»¨í…ì¸ ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
    BadRequest:
      description: ì˜ëª»ëœ ìš”ì²­ í˜•ì‹
    Unauthorized:
      description: ë¡œê·¸ì¸ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ì˜ëª»ëœ ì¸ì¦ ì •ë³´
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponseDto'
          examples:
            ì¸ì¦ ì •ë³´ ì—†ìŒ:
              value:
                code: 1001
                message: ì¸ì¦ ì •ë³´ ì—†ìŒ (Authorization Header Empty)
            ì˜ëª»ëœ ì¸ì¦ ì •ë³´:
              value:
                code: 1002
                message: ì˜ëª»ëœ ì¸ì¦ ì •ë³´ (Token Not Valid)
    Forbidden:
      description: ìš”ì²­ ê¶Œí•œì´ ì—†ìŒ
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponseDto'
          examples:
            ì‚¬ìš©ì ì •ë³´ ì…ë ¥ ë¯¸ì™„ë£Œ:
              value:
                code: 2005
                message: ì‚¬ìš©ì ì •ë³´ ì…ë ¥ ë¯¸ì™„ë£Œ
            ê¶Œí•œ ì—†ìŒ:
              value:
                code: 2006
                message: ì ‘ê·¼ ê¶Œì•ˆ ì—†ìŒ
    RegisterSuccess:
      description: íšŒì›ê°€ì… ì„±ê³µ
    RegisterFail:
      description: íšŒì›ê°€ì… ì‹¤íŒ¨
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponseDto'
          examples:
            ì´ë¯¸ ë“±ë¡ëœ íšŒì›:
              value:
                code: 2001
                message: ì´ë¯¸ ë“±ë¡ëœ íšŒì›ì…ë‹ˆë‹¤. (id value)
            ìœ íš¨í•˜ì§€ ì•Šì€ í† í°:
              value:
                code: 2002
                message: id í† í°ì´ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. (token value)
    LoginSuccess:
      description: ë¡œê·¸ì¸ ì„±ê³µ
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/LoginResponseDto'
          examples:
            í•„ìˆ˜ì •ë³´ ì…ë ¥ ì™„ë£Œ:
              value:
                accessToken: token
                refreshToken: token
                registerComplete: true
            í•„ìˆ˜ì •ë³´ ì…ë ¥ í•„ìš”:
              value:
                accessToken: token
                refreshToken: token
                registerComplete: false
                nextLinkDto:
                  required: true
                  method: post
                  url: http://localhost:8080/api/v1/users/me/info
    LoginFail:
      description: ë¡œê·¸ì¸ ì‹¤íŒ¨
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponseDto'
          examples:
            ìœ íš¨í•˜ì§€ ì•Šì€ í† í°:
              value:
                code: 2002
                message: id í† í°ì´ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. (token value)
            ë“±ë¡ë˜ì§€ ì•Šì€ íšŒì›:
              value:
                code: 2003
                message: ë“±ë¡ë˜ì§€ ì•Šì€ íšŒì›ì…ë‹ˆë‹¤. (id value)
            íšŒì›ì •ë³´ ì…ë ¥ì´ ì™„ë£Œë˜ì§€ ì•Šì€ íšŒì›:
              value:
                code: 2004
                message: íšŒì›ì •ë³´ ì…ë ¥ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. (id value)
    RegisterInfoFail:
      description: ì •ë³´ ë“±ë¡ ì‹¤íŒ¨
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponseDto'
          examples:
            ì˜ëª»ëœ ì…ë ¥ í˜•ì‹:
              value:
                code: 2010
                message: ì…ë ¥ í˜•ì‹ì´ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤. (error detail)
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
security:
  - bearerAuth: []
tags:
  - name: Auth
    description: ì¸ì¦
  - name: User
    description: ìœ ì €
  - name: Challenge
    description: ì‘ì‹¬ì‚¼ì¼ ì±Œë¦°ì§€
  - name: ChallengeRecord
    description: ì‘ì‹¬ì‚¼ì¼ ì±Œë¦°ì§€ ê¸°ë¡
  - name: ChallengeGroup
    description: ì‘ì‹¬ì‚¼ì¼ ì±Œë¦°ì§€ ê·¸ë£¹
  - name: ChallengeGroupRecord
    description: ì‘ì‹¬ì‚¼ì¼ ì±Œë¦°ì§€ ê·¸ë£¹ ê¸°ë¡
  - name: BuyOrNot
    description: ì‚´ê¹Œë§ê¹Œ
  - name: Image
    description: ì´ë¯¸ì§€

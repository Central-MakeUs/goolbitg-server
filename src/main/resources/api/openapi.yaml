openapi: 3.0.3
info:
  title: ğŸ£ êµ´ë¹„ì‡ê¸° API ì„œë²„
  description: êµ´ë¹„ì‡ê¸° í”„ë¡œì íŠ¸ì˜ API ì„œë²„ì…ë‹ˆë‹¤. ë­ ë” ì“¸ê²Œ ìˆë‚˜?
  termsOfService: http://localhost:8080/terms-of-service
  version: 1.0.0
servers:
  - url: http://localhost:8080
    description: ë¡œì»¬í˜¸ìŠ¤íŠ¸ ì„œë²„
paths:
  /api/v1/users/me:
    get:
      summary: í˜„ì¬ ë¡œê·¸ì¸í•œ ìœ ì € ì •ë³´ ë°˜í™˜
      tags:
        - User
      responses:
        '200':
          description: í˜„ì¬ ë¡œê·¸ì¸í•œ ìœ ì € ì •ë³´
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '403':
          description: ë¡œê·¸ì¸ë˜ì§€ ì•Šì•˜ê±°ë‚˜ ì˜ëª»ëœ ì¸ì¦ ì •ë³´
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              examples:
                ì¸ì¦ ì •ë³´ ì—†ìŒ:
                  value:
                    code: 1001
                    message: ì¸ì¦ ì •ë³´ ì—†ìŒ (Authorization Header Empty)
                ì˜ëª»ëœ ì¸ì¦ ì •ë³´:
                  value:
                    code: 1002
                    message: ì˜ëª»ëœ ì¸ì¦ ì •ë³´ (Token Not Valid)
components:
  schemas:
    User:
      type: object
      properties:
        id:
          type: string
          description: ì‚¬ìš©ì ê³ ìœ  IDê°’, ëœë¤ ìƒì„±
        nickname:
          type: string
          minimum: 2
          maximum: 6
          description: í•œê¸€, ì˜ë¬¸ ëŒ€ì†Œë¬¸ìë§Œ ì…ë ¥ ê°€ëŠ¥
        birthday:
          type: string
          format: date
          description: ìƒì¼
        gender:
          type: string
          enum:
            - male
            - female
          description: ì„±ë³„
        check1:
          type: boolean
          description: ì²´í¬ë¦¬ìŠ¤íŠ¸ 1 ì²´í¬ ì—¬ë¶€
        check2:
          type: boolean
          description: ì²´í¬ë¦¬ìŠ¤íŠ¸ 2 ì²´í¬ ì—¬ë¶€
        check3:
          type: boolean
          description: ì²´í¬ë¦¬ìŠ¤íŠ¸ 3 ì²´í¬ ì—¬ë¶€
        check4:
          type: boolean
          description: ì²´í¬ë¦¬ìŠ¤íŠ¸ 4 ì²´í¬ ì—¬ë¶€
        check5:
          type: boolean
          description: ì²´í¬ë¦¬ìŠ¤íŠ¸ 5 ì²´í¬ ì—¬ë¶€
        check6:
          type: boolean
          description: ì²´í¬ë¦¬ìŠ¤íŠ¸ 6 ì²´í¬ ì—¬ë¶€
        avgIncomePerMonth:
          type: integer
          description: ì›”ê°„ í‰ê·  ìˆ˜ì…
        avgSpendingPerMonth:
          type: integer
          description: ì›”ê°„ í‰ê·  ì§€ì¶œ
        primeUseDay:
          type: string
          format: day
          description: ì£¼ ì§€ì¶œ ìš”ì¼
        primeUseTime:
          type: string
          format: time
          description: ì£¼ ì§€ì¶œ ì‹œê°„, ì´ˆë¡œ ê³„ì‚°ë¨
        spendingType:
          $ref: '#/components/schemas/SpendingType'
        spendingHabitScore:
          type: integer
          minimum: 0
          maximum: 100
          description: ì†Œë¹„ìŠµê´€ ì ìˆ˜ (0 ~ 100ì )
        challengeCount:
          type: integer
          description: ì´ ì±Œë¦°ì§€ ì°¸ì—¬ ê°œìˆ˜
        postCount:
          type: integer
          description: ì´ ì‘ì„±ê¸€ ìˆ˜
        achivementGuage:
          type: number
          format: float
          description: ë‹¬ì„± ê²Œì´ì§€
      required:
        - id
        - nickname
        - birthday
        - gender
        - check1
        - check2
        - check3
        - check4
        - check5
        - check6
        - spendingType
        - spendingHabitScore
      example:
        id: id2003952
        nickname: êµ´ë¹„ì™•
        birthday: 1999-03-01
        gender: male
        check1: false
        check2: true
        check3: true
        check4: false
        check5: true
        check6: true
        avgIncomePerMonth: 3600000
        avgSpendingPerMonth: 2000000
        primeUseDay: ê¸ˆìš”ì¼
        primeUseTime: 20:00:00
        spendingHabitScore: 62
        spendingType:
          id: 1
          title: ìë¦°ê³ ë¹„ êµ´ë¹„
          imageUrl: http://localhost:8080/image/st1
        challengeCount: 14
        postCount: 4
        achivementGuage: 37.2
    SpendingType:
      type: object
      properties:
        id:
          type: integer
          description: ì†Œë¹„ìœ í˜• ID
        title:
          type: string
          description: ì†Œë¹„ìœ í˜• ì´ë¦„
        imageUrl:
          type: string
          format: uri
          description: ì†Œë¹„ìœ í˜• ëŒ€í‘œ ì´ë¯¸ì§€
      example:
        id: 1
        title: ìë¦°ê³ ë¹„ êµ´ë¹„
        imageUrl: http://localhost:8080/image/st1
    Challenge:
      type: object
      properties:
        id:
          type: string
          description: ì±Œë¦°ì§€ ID
        title:
          type: string
          minimum: 1
          maximum: 100 # TODO: Set maximum title length
          description: ì±Œë¦°ì§€ ì´ë¦„
        imageUrl:
          type: string
          format: uri
          description: ì±Œë¦°ì§€ ëŒ€í‘œ ì´ë¯¸ì§€ URL
        isPrivate:
          type: boolean
          description: ê°œì¸ ì±Œë¦°ì§€ ì—¬ë¶€
        participantCount:
          type: integer
          description: ì±Œë¦°ì§€ ì°¸ì—¬ì¸ì›
        avgAchiveRatio:
          type: number
          format: float
          description: ì±Œë¦°ì§€ í‰ê·  ë‹¬ì„±ë¥ 
        maxAchiveDays:
          type: integer
          description: ê°€ì¥ ì˜¤ë˜ ì§„í–‰ëœ ì±Œë¦°ì§€ ì¼ìˆ˜
      required:
        - id
        - title
        - imageUrl
        - isPrivate
        - participantCount
        - avgAchiveRatio
        - maxAchiveDays
      example:
        $ref: '#/components/examples/PrivateChallenge/value'
    ChallengeProgress:
      type: object
      properties:
        challengeId:
          type: string
          description: ì§„í–‰ì¤‘ì¸ ì±Œë¦°ì§€ ID
        participantId:
          type: string
          description: ì±Œë¦°ì§€ ì°¸ì—¬ì ID
        startDateTime:
          type: string
          format: date-time
          description: ì±Œë¦°ì§€ ì‹œì‘ì¼
        endDateTime:
          type: string
          format: date-time
          description: ì±Œë¦°ì§€ ì¢…ë£Œì¼. ì•„ì§ ì¢…ë£Œë˜ì§€ ì•Šì€ ê²½ìš° null
        inProgress:
          type: boolean
          description: ì±Œë¦°ì§€ê°€ ì§„í–‰ì¤‘ì¸ì§€ ì—¬ë¶€
        achiveDays:
          type: integer
          minimum: 0
          maximum: 3
          description: ì±Œë¦°ì§€ ì§„í–‰ ì¼ìˆ˜
      required:
        - challengeId
        - participantId
        - startDateTime
        - inProgress
        - achiveDays
      example:
        challengeId: ch10001
        participantId: id2003952
        startDateTime: 2024-01-07
        inProgress: true
        achiveDays: 2
    Notice:
      type: object
      properties:
        id:
          type: string
          description: ì•Œë¦¼ ID
        receiverId:
          type: string
          description: ìˆ˜ì‹ ì ID
        message:
          type: string
          minimum: 10
          maximum: 100 # TODO: Determine min, max
          description: ë©”ì„¸ì§€ ë‚´ìš©
        publishDateTime:
          type: string
          format: date-time
          description: ì•Œë¦¼ ë°œì†¡ ë‚ ì§œ
        type:
          type: string
          enum:
            - challenge
            - vote
            - chat
          description: ë©”ì‹œì§€ íƒ€ì…
      required:
        - id
        - receiverId
        - message
        - publishDateTime
        - type
      example:
        id: nt10001
        receiverId: id2003952
        message: ì˜¤ëŠ˜ ì•„ì§ ì±Œë¦°ì§€ë¥¼ ë‹¬ì„±í•˜ì§€ ëª»í–ˆì–´ìš”.
        publishDateTime: 2024-01-07T14:26:32
        type: challenge
    BuyOrNot:
      type: object
      properties:
        id:
          type: string
          description: ì‚´ê¹Œë§ê¹Œ ë“±ë¡ ID
        writerId:
          type: string
          description: ì‘ì„±ì ID
        productName:
          type: string
          description: ìƒí’ˆ ì´ë¦„
        productPrice:
          type: integer
          minimum: 1
          maximum: 10000000
          description: ìƒí’ˆ ê¸ˆì•¡
        productImageUrl:
          type: string
          format: uri
          description: ìƒí’ˆ ì‚¬ì§„ URL
        goodReason:
          type: string
          minimum: 2
          maximum: 25 # TODO: Determine min, max
          description: ì‚¬ì•¼í•˜ëŠ” ì´ìœ 
        badReason:
          type: string
          minimum: 2
          maximum: 25 # TODO: Determine min, max
          description: ì‚¬ì§€ ë§ì•„ì•¼ í•˜ëŠ” ì´ìœ 
      required:
        - id
        - writerId
        - productName
        - productPrice
        - productImageUrl
        - goodReason
        - badReason
      example:
        id: bn10001
        writerId: id2003952
        productName: Tecket í›„ë“œí‹°
        productPrice: 97000
        productImageUrl: http://localhost:8080/image/bn1
        goodReason: í›„ë“œí‹° ì•ˆì‚°ì§€ ë²Œì¨ 2ë…„ ë‹¤ë¨
        badReason: ì§‘ì— í›„ë“œí‹°ë§Œ 10ì¥ ìˆê¸´í•¨
    HabitPatternAnalysis:
      type: object
      properties:
        typeRatio:
          type: array
          description: íƒ€ì…ë³„ ë¹„ìœ¨ ëª¨ìŒ
          items:
            type: object
            properties:
              id:
                type: integer
                description: íƒ€ì… ID
              value:
                type: number
                format: float
                description: íƒ€ì… ë¹„ìœ¨
        avgChallengeCounts:
          type: array
          description: íƒ€ì…ë³„ í‰êµ° ì±Œë¦°ì§€ ê°œìˆ˜
          items:
            type: object
            properties:
              id:
                type: integer
                description: íƒ€ì… ID
              value:
                type: integer
                description: ì°¸ì—¬ ê°œìˆ˜
      example:
        typeRatio:
          - id: 1
            value: 5.0
          - id: 2
            value: 12.0
          - id: 3
            value: 18.0
          - id: 4
            value: 25.0
          - id: 5
            value: 40.0
        avgChallengeCounts:
          - id: 1
            value: 3
          - id: 2
            value: 5
          - id: 3
            value: 6
          - id: 4
            value: 4
          - id: 5
            value: 2
    Error:
      type: object
      properties:
        code:
          type: integer
          minimum: 1000
          maximum: 9000
          description: ì˜¤ë¥˜ ì½”ë“œ
        message:
          type: string
          minimum: 1
          maximum: 100
          description: ì˜¤ë¥˜ ë©”ì„¸ì§€
      required:
        - code
        - message
      example:
        code: 1000
        message: ì•Œ ìˆ˜ ì—†ëŠ” ì„œë²„ ì˜¤ë¥˜
    PaginatedResult:
      type: object
      properties:
        totalSize:
          type: integer
          description: ì´ ì•„ì´í…œ ìˆ˜
        totalPages:
          type: integer
          description: ì´ í˜ì´ì§€ ìˆ˜
        size:
          type: integer
          default: 10
          description: ì•„ì´í…œ ê°œìˆ˜
        page:
          type: integer
          minimum: 1
          default: 1
          description: í˜ì´ì§€ ë²ˆí˜¸ (1ë¶€í„° ì‹œì‘)
        items:
          type: array
          description: ì•„ì´í…œ ëª©ë¡
          items:
            type: object
            description: ì˜¤ë²„ë¦¬ì´ë“œ ë˜ì–´ì•¼ í•¨.
        nextPageUrl:
          type: string
          format: uri
          description: ë‹¤ìŒ í˜ì´ì§€ URL
        prevPageUrl:
          type: string
          format: uri
          description: ì´ì „ í˜ì´ì§€ URL
      required:
        - totalSize
        - totalPages
        - size
        - page
        - items
      example:
        totalSize: 231
        totalPages: 24
        size: 10
        page: 3
  examples:
    PrivateChallenge:
      value:
        id: ch10001
        title: íƒì‹œíƒ€ì§€ ì•Šê¸°
        imageUrl: http://localhost:8080/image/ch1
        isPrivate: false
        participantCount: 124
        avgAchiveRatio: 58.6
        maxAchiveDays: 24
    GroupChallenge:
      value:
        id: ch10002
        title: ë°°ë‹¬ìŒì‹ ë¨¹ì§€ ì•Šê¸°
        imageUrl: http://localhost:8080/image/ch2
        isPrivate: true
        participantCount: 1539
        avgAchiveRatio: 39.6
        maxAchiveDays: 52
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
security:
  - bearerAuth: []
tags:
  - name: User
